<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CATarata</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Make it mobile-friendly -->
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #fef9f4;
      color: #333;
    }

    header {
      background-color: #f8c291;
      color: rgb(26, 25, 25);
      text-align: center;
      padding: 30px 20px;
      border-bottom: 4px solid #61c4ec;
    }

    header h1 {
      margin: 0;
      font-size: 3em;
      letter-spacing: 2px;
    }

  <header>
    <h1>üê± Cat Breed Cam Scanner</h1>
    <p>Scan a cat photo to identify its breed!</p>
  </header>

  <div class="container" style="flex-direction:column;align-items:center;max-width:500px;margin:auto;">
    <div style="width:100%;background:#fff;padding:24px 18px 18px 18px;border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,0.08);display:flex;flex-direction:column;align-items:center;">
      <input type="file" accept="image/*" capture="environment" id="cat-image-input" style="margin-bottom:18px;" />
      <video id="video" width="320" height="240" autoplay playsinline style="display:none;margin-bottom:12px;border-radius:10px;"></video>
      <canvas id="canvas" width="320" height="240" style="display:none;"></canvas>
      <img id="preview" src="" alt="Cat preview" style="max-width:100%;max-height:220px;display:none;margin-bottom:12px;border-radius:10px;" />
      <button id="open-camera" style="margin-bottom:12px;padding:10px 18px;background:#61c4ec;color:#fff;border:none;border-radius:6px;font-size:1em;cursor:pointer;">Open Camera</button>
      <button id="snap" style="display:none;margin-bottom:12px;padding:10px 18px;background:#ce5df3;color:#fff;border:none;border-radius:6px;font-size:1em;cursor:pointer;">Capture Photo</button>
      <div id="result" style="margin-top:10px;font-size:1.1em;color:#ce5df3;font-weight:bold;"></div>
    </div>
  </div>

  <script>
    const imageInput = document.getElementById('cat-image-input');
    const preview = document.getElementById('preview');
    const result = document.getElementById('result');
    const openCameraBtn = document.getElementById('open-camera');
    const snapBtn = document.getElementById('snap');
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    let stream = null;

    // Handle file upload
    imageInput.onchange = function(e) {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(ev) {
        preview.src = ev.target.result;
        preview.style.display = 'block';
        video.style.display = 'none';
        snapBtn.style.display = 'none';
        identifyBreed();
      };
      reader.readAsDataURL(file);
    };

    // Camera open
    openCameraBtn.onclick = async function() {
      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        try {
          stream = await navigator.mediaDevices.getUserMedia({ video: true });
          video.srcObject = stream;
          video.style.display = 'block';
          snapBtn.style.display = 'inline-block';
          preview.style.display = 'none';
          result.textContent = '';
        } catch (err) {
          alert('Camera access denied or not available.');
        }
      } else {
        alert('Camera not supported in this browser.');
      }
    };

    // Capture photo from camera
    snapBtn.onclick = function() {
      canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
      const dataUrl = canvas.toDataURL('image/png');
      preview.src = dataUrl;
      preview.style.display = 'block';
      video.style.display = 'none';
      snapBtn.style.display = 'none';
      if (stream) {
        stream.getTracks().forEach(track => track.stop());
        stream = null;
      }
      identifyBreed();
    };

    // Simulate breed identification
    function identifyBreed() {
      result.textContent = 'Identifying breed...';
      setTimeout(() => {
        // Placeholder: random breed
        const breeds = [
          'Siamese', 'Persian', 'Maine Coon', 'Bengal', 'Ragdoll',
          'British Shorthair', 'Sphynx', 'Scottish Fold', 'Russian Blue', 'Unknown Cat Breed'
        ];
        const breed = breeds[Math.floor(Math.random() * breeds.length)];
        result.textContent = 'Detected: ' + breed;
      }, 1200);
    }
  </script>
  </div>

  <script>
    const form = document.getElementById('todo-form');
    const input = document.getElementById('todo-input');
    const list = document.getElementById('todo-list');

    // Load tasks from localStorage
    function loadTasks() {
      const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
      list.innerHTML = '';
      tasks.forEach((task, idx) => {
        const li = document.createElement('li');
        li.style.display = 'flex';
        li.style.alignItems = 'center';
        li.style.justifyContent = 'space-between';
        li.style.background = '#fff';
        li.style.marginBottom = '10px';
        li.style.padding = '12px 16px';
        li.style.borderRadius = '8px';
        li.style.boxShadow = '0 2px 6px rgba(0,0,0,0.06)';

        const span = document.createElement('span');
        span.textContent = task.text;
        span.style.textDecoration = task.done ? 'line-through' : 'none';
        span.style.flex = '1';
        span.style.cursor = 'pointer';
        span.onclick = () => toggleTask(idx);

        const delBtn = document.createElement('button');
        delBtn.textContent = 'üóëÔ∏è';
        delBtn.title = 'Delete';
        delBtn.style.background = 'none';
        delBtn.style.border = 'none';
        delBtn.style.fontSize = '1.2em';
        delBtn.style.cursor = 'pointer';
        delBtn.onclick = () => deleteTask(idx);

        li.appendChild(span);
        li.appendChild(delBtn);
        list.appendChild(li);
      });
    }

    function saveTasks(tasks) {
      localStorage.setItem('tasks', JSON.stringify(tasks));
    }

    function addTask(text) {
      const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
      tasks.push({ text, done: false });
      saveTasks(tasks);
      loadTasks();
    }

    function toggleTask(idx) {
      const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
      tasks[idx].done = !tasks[idx].done;
      saveTasks(tasks);
      loadTasks();
    }

    function deleteTask(idx) {
      const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
      tasks.splice(idx, 1);
      saveTasks(tasks);
      loadTasks();
    }

    form.onsubmit = function(e) {
      e.preventDefault();
      const value = input.value.trim();
      if (value) {
        addTask(value);
        input.value = '';
      }
    };

    // Initial load
    loadTasks();
  </script>

  <footer>
    &copy; 2025 Cat Lovers ng Dampalan Hub | Designed with love and catfoods üß°
  </footer>

</body>
</html>
